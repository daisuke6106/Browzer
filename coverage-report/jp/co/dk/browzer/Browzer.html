<!DOCTYPE html>
<html>
<head>
  <title>JMockit Coverage Report - Browzer.java</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../../../../coverage.css'/>
  <script type='text/javascript' src='../../../../coverage.js'></script>
  <script type='text/javascript' src='../../../../prettify.js'></script>
</head>
<body onload='prettyPrint()'>
  <table cellpadding='0' cellspacing='1'>
    <caption>Browzer/src/jp/co/dk/browzer/Browzer.java</caption>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>2</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>package jp.co.dk.browzer;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td><pre class='imports prettyprint' onclick='showHideLines(this)'><div>import java.io.File;
import java.util.ArrayList;
import java.util.List;

import jp.co.dk.browzer.Page;
import jp.co.dk.browzer.PageRedirectHandler;
import jp.co.dk.browzer.download.DownloadJudge;
import jp.co.dk.browzer.exception.BrowzingException;
import jp.co.dk.browzer.html.element.A;
import jp.co.dk.browzer.html.element.Form;
import jp.co.dk.browzer.html.element.Image;
import jp.co.dk.browzer.html.element.Link;
import jp.co.dk.browzer.html.element.Script;
import static jp.co.dk.browzer.message.BrowzingMessage.*;
</div><span>import ...</span></pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>/**
 * Browzerは、ページの遷移を管理するクラスです。&lt;p/>
 * 
 * 本クラスはGoogle Chromeや、FireFox等のインターネットブラウザと同様に指定のURLを元にホームページを開き、&lt;br/>
 * そのページに設定されているリンク（アンカー）をクリック、またはsubmitボタンを押下することでページ遷移していくのと同等の処理を行うためのクラスです。&lt;br/>
 * 本クラス生成時に指定されたURLを元にオブジェクトを生成し、そのURLのページを親画面とし、そのページに設定されたアンカータグやフォームを元にmoveメソッドの呼び出しを行うことでページ遷移を行なっていきます。&lt;br/>
 * backメソッドを呼び出すことで遷移先のページから遷移元ページに戻ります。&lt;br/>
 * また、指定のディレクトリへのパスを元にsaveメソッドを呼び出すことで現在アクティブになっているページを指定のディレクトリへ保存。&lt;br/>
 * &lt;br/>
 * 最大ネスト数指定&lt;br/>
 * 親画面から遷移可能な画面の深さを指定することができます。&lt;br/>
 * 例えば、ブラウザをURLを http://www.google.co.jp にて起動するとそのページはネストレベル0で起動します。&lt;br/>
 * http://www.google.co.jpに設定されているリンクを元にmoveメソッドでページ遷移を行った場合、ネストレベルを1が設定、そのページから更にページ遷移を行った場合、ネストレベル2といった順でネストレベルが増えていきます。&lt;br/>
 * &lt;br/>
 * backメソッドでページを戻った場合、ネストレベルも戻ります。&lt;br/>
 * &lt;br/>
 * ブラウザ起動時に最大ネスト数を設定することで、その最大ネスト数以上に遷移をおこなおうとした場合、例外を発生します。&lt;br/>
 * 
 * @version 1.0
 * @author D.Kanno
 */</div><span>/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>40</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>public class Browzer {</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>42</td><td>&nbsp;</td>
      <td><pre class='comment'>	/** ページ管理オブジェクト */</pre></td>
    </tr>
    <tr>
      <td class='line'>43</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	protected PageManager <span class='instance covered' title='Reads: 91 Writes: 42'>pageManager</span>;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'>45</td><td>&nbsp;</td>
      <td><pre class='comment'>	/** ページリダイレクト制御オブジェクト */</pre></td>
    </tr>
    <tr>
      <td class='line'>46</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	protected PageRedirectHandler <span class='instance uncovered' title='Reads: 0 Writes: 31'>pageRedirectHandler</span>;</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * コンストラクタ&lt;p/>
	 * 指定のURLを元にブラウザを生成します。
	 * 
	 * @param url URL文字列
	 * @throws BrowzingException ページの表示に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>55</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Browzer(String url) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>56</td><td class='count'>27</td>
      <td><pre class='prettyprint covered' id='l56s0'>		this(url, new PageRedirectHandler());</pre></td>
    </tr>
    <tr>
      <td class='line'>57</td><td class='count'>24</td>
      <td><pre class='prettyprint covered' id='l57s0'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * コンストラクタ&lt;p/>
	 * 指定のURLを元にブラウザを生成します。
	 * 
	 * @param url URL文字列
	 * @param pageRedirectHandler ページリダイレクト制御オブジェクト
	 * @throws BrowzingException ページの表示に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>67</td><td class='count'>27</td>
      <td><pre class='prettyprint covered' id='l67s0'>	public Browzer(String url, PageRedirectHandler pageRedirectHandler) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>68</td><td class='count'>27</td>
      <td><pre class='prettyprint covered' id='l68s0'>		this.pageRedirectHandler = pageRedirectHandler;</pre></td>
    </tr>
    <tr>
      <td class='line'>69</td><td class='count'>27</td>
      <td><pre class='prettyprint covered' id='l69s0'>		this.pageManager         = this.createPageManager(this.ceatePage(url), pageRedirectHandler);</pre></td>
    </tr>
    <tr>
      <td class='line'>70</td><td class='count'>24</td>
      <td><pre class='prettyprint covered' id='l70s0'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * コンストラクタ&lt;p/>
	 * 指定のURL,指定の最大ネスト数を元にブラウザを生成します。&lt;br/>
	 * 
	 * @param url URL文字列
	 * @param maxNestLevel 最大ネスト数
	 * @throws BrowzingException ページの表示に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>80</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Browzer(String url, int maxNestLevel) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>81</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l81s0'>		this(url, new PageRedirectHandler(), maxNestLevel);</pre></td>
    </tr>
    <tr>
      <td class='line'>82</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l82s0'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * コンストラクタ&lt;p/>
	 * 指定のURL,指定の最大ネスト数を元にブラウザを生成します。&lt;br/>
	 * 
	 * @param url URL文字列
	 * @param pageRedirectHandler ページリダイレクト制御オブジェクト
	 * @param maxNestLevel 最大ネスト数
	 * @throws BrowzingException ページの表示に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>93</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l93s0'>	public Browzer(String url, PageRedirectHandler pageRedirectHandler, int maxNestLevel) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>94</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l94s0'>		this.pageRedirectHandler = pageRedirectHandler;</pre></td>
    </tr>
    <tr>
      <td class='line'>95</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l95s0'>		this.pageManager         = this.createPageManager(this.ceatePage(url), pageRedirectHandler, maxNestLevel);</pre></td>
    </tr>
    <tr>
      <td class='line'>96</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l96s0'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ遷移実行&lt;p/>
	 * 指定されたアンカーに設定されているURLへページ遷移を実行します。&lt;br/>
	 * &lt;br/>
	 * 以下の状態の場合、例外を送出します。&lt;br/>
	 * ・遷移先アンカーが設定されていなかった場合&lt;br/>
	 * ・遷移先アンカーが現在アクティブになっているページから取得したものでない場合&lt;br/>
	 * ・遷移先アンカーに遷移先URLが設定されていなかった場合(hrefが設定されていなかった場合)&lt;br/>
	 * 
	 * @param anchor 遷移先アンカー
	 * @return ページオブジェクト
	 * @throws BrowzingException 遷移に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>111</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page move(A anchor) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>16</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#00ff00' onclick='hidePath()'>Path coverage: 4/4</span>
        <span class='covered' onclick="showPath(this,'l112s0 l112s1')">A: 1</span>
        <span class='covered' onclick="showPath(this,'l112s0 l113s0 l113s1')">B: 1</span>
        <span class='covered' onclick="showPath(this,'l112s0 l113s0 l114s0 l115s0 l115s1')">C: 1</span>
        <span class='covered' onclick="showPath(this,'l112s0 l113s0 l114s0 l115s0 l116s0 l117s0')">D: 13</span>
      </td>
    </tr>
    <tr>
      <td class='line'>112</td><td class='count'>19</td>
      <td><pre class='prettyprint jmp'>		<span id='l112s0' title='Executions: 19' class='covered'>if (anchor == null)</span> <span id='l112s1' title='Executions: 1' class='covered'>throw new BrowzingException(ERROR_SPECIFIED_ANCHOR_IS_NOT_SET);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>113</td><td class='count'>18</td>
      <td><pre class='prettyprint jmp'>		<span id='l113s0' title='Executions: 18' class='covered'>if (!this.pageManager.getPage().equals(anchor.getPage()))throw new BrowzingException(ERROR_ANCHOR_THAT_HAS_BEEN_SPECIFIED_DOES_NOT_EXISTS_ON_THE_PAGE_THAT_IS_CURRENTLY_ACTIVE);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>114</td><td class='count'>17</td>
      <td><pre class='prettyprint covered' id='l114s0'>		String url = anchor.getHref();</pre></td>
    </tr>
    <tr>
      <td class='line'>115</td><td class='count'>17</td>
      <td><pre class='prettyprint jmp'>		<span id='l115s0' title='Executions: 17' class='covered'>if (url.equals("")) throw new BrowzingException(ERROR_ANCHOR_HAS_NOT_URL);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>116</td><td class='count'>16</td>
      <td><pre class='prettyprint covered' id='l116s0'>		this.pageManager = this.pageManager.move(url);</pre></td>
    </tr>
    <tr>
      <td class='line'>117</td><td class='count'>13</td>
      <td><pre class='prettyprint covered' id='l117s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>118</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ遷移実行&lt;p/>
	 * 指定されたイメージに設定されている画像へページ遷移を実行します。&lt;br/>
	 * &lt;br/>
	 * 以下の状態の場合、例外を送出します。&lt;br/>
	 * ・遷移先イメージが設定されていなかった場合&lt;br/>
	 * ・遷移先イメージが現在アクティブになっているページから取得したものでない場合&lt;br/>
	 * ・遷移先イメージに遷移先URLが設定されていなかった場合(srcが設定されていなかった場合)&lt;br/>
	 * 
	 * @param image イメージタグ
	 * @return ページオブジェクト
	 * @throws BrowzingException 遷移に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>133</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page move(Image image) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>0</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#ff0000' onclick='hidePath()'>Path coverage: 0/4</span>
        <span class='uncovered' onclick="showPath(this,'l134s0 l134s1')">A: 0</span>
        <span class='uncovered' onclick="showPath(this,'l134s0 l135s0 l135s1')">B: 0</span>
        <span class='uncovered' onclick="showPath(this,'l134s0 l135s0 l136s0 l137s0 l137s1')">C: 0</span>
        <span class='uncovered' onclick="showPath(this,'l134s0 l135s0 l136s0 l137s0 l138s0 l139s0')">D: 0</span>
      </td>
    </tr>
    <tr>
      <td class='line'>134</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l134s0' title='Executions: 0' class='uncovered'>if (image == null)</span> <span id='l134s1' title='Executions: 0' class='uncovered'>throw new BrowzingException(ERROR_SPECIFIED_ANCHOR_IS_NOT_SET);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>135</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l135s0' title='Executions: 0' class='uncovered'>if (!this.pageManager.getPage().equals(image.getPage()))throw new BrowzingException(ERROR_ANCHOR_THAT_HAS_BEEN_SPECIFIED_DOES_NOT_EXISTS_ON_THE_PAGE_THAT_IS_CURRENTLY_ACTIVE);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>136</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l136s0'>		String url = image.getSrc();</pre></td>
    </tr>
    <tr>
      <td class='line'>137</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l137s0' title='Executions: 0' class='uncovered'>if (url.equals("")) throw new BrowzingException(ERROR_ANCHOR_HAS_NOT_URL);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>138</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l138s0'>		this.pageManager = this.pageManager.move(url);</pre></td>
    </tr>
    <tr>
      <td class='line'>139</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l139s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>140</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ遷移実行&lt;p/>
	 * 指定されたリンクに設定されているページへページ遷移を実行します。&lt;br/>
	 * &lt;br/>
	 * 以下の状態の場合、例外を送出します。&lt;br/>
	 * ・遷移先イメージが設定されていなかった場合&lt;br/>
	 * ・遷移先イメージが現在アクティブになっているページから取得したものでない場合&lt;br/>
	 * ・遷移先イメージに遷移先URLが設定されていなかった場合(hrefが設定されていなかった場合)&lt;br/>
	 * 
	 * @param link リンクタグ
	 * @return ページオブジェクト
	 * @throws BrowzingException 遷移に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>155</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page move(Link link) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>1</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#bf4000' onclick='hidePath()'>Path coverage: 1/4</span>
        <span class='covered' onclick="showPath(this,'l156s0 l156s1')">A: 1</span>
        <span class='uncovered' onclick="showPath(this,'l156s0 l157s0 l157s1')">B: 0</span>
        <span class='uncovered' onclick="showPath(this,'l156s0 l157s0 l158s0 l159s0 l159s1')">C: 0</span>
        <span class='uncovered' onclick="showPath(this,'l156s0 l157s0 l158s0 l159s0 l160s0 l161s0')">D: 0</span>
      </td>
    </tr>
    <tr>
      <td class='line'>156</td><td class='count'>1</td>
      <td><pre class='prettyprint jmp'>		<span id='l156s0' title='Executions: 1' class='covered'>if (link == null)</span> <span id='l156s1' title='Executions: 1' class='covered'>throw new BrowzingException(ERROR_SPECIFIED_ANCHOR_IS_NOT_SET);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>157</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l157s0' title='Executions: 0' class='uncovered'>if (!this.pageManager.getPage().equals(link.getPage()))throw new BrowzingException(ERROR_ANCHOR_THAT_HAS_BEEN_SPECIFIED_DOES_NOT_EXISTS_ON_THE_PAGE_THAT_IS_CURRENTLY_ACTIVE);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>158</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l158s0'>		String url = link.getHref();</pre></td>
    </tr>
    <tr>
      <td class='line'>159</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l159s0' title='Executions: 0' class='uncovered'>if (url.equals("")) throw new BrowzingException(ERROR_ANCHOR_HAS_NOT_URL);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>160</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l160s0'>		this.pageManager = this.pageManager.move(url);</pre></td>
    </tr>
    <tr>
      <td class='line'>161</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l161s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>162</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ遷移実行&lt;p/>
	 * 指定されたリンクに設定されているスクリプトへページ遷移を実行します。&lt;br/>
	 * &lt;br/>
	 * 以下の状態の場合、例外を送出します。&lt;br/>
	 * ・遷移先イメージが設定されていなかった場合&lt;br/>
	 * ・遷移先イメージが現在アクティブになっているページから取得したものでない場合&lt;br/>
	 * ・遷移先イメージに遷移先URLが設定されていなかった場合(srcが設定されていなかった場合)&lt;br/>
	 * 
	 * @param script スクリプトタグ
	 * @return ページオブジェクト
	 * @throws BrowzingException 遷移に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>177</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page move(Script script) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>0</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#ff0000' onclick='hidePath()'>Path coverage: 0/4</span>
        <span class='uncovered' onclick="showPath(this,'l178s0 l178s1')">A: 0</span>
        <span class='uncovered' onclick="showPath(this,'l178s0 l179s0 l179s1')">B: 0</span>
        <span class='uncovered' onclick="showPath(this,'l178s0 l179s0 l180s0 l181s0 l181s1')">C: 0</span>
        <span class='uncovered' onclick="showPath(this,'l178s0 l179s0 l180s0 l181s0 l182s0 l183s0')">D: 0</span>
      </td>
    </tr>
    <tr>
      <td class='line'>178</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l178s0' title='Executions: 0' class='uncovered'>if (script == null)</span> <span id='l178s1' title='Executions: 0' class='uncovered'>throw new BrowzingException(ERROR_SPECIFIED_ANCHOR_IS_NOT_SET);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>179</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l179s0' title='Executions: 0' class='uncovered'>if (!this.pageManager.getPage().equals(script.getPage()))throw new BrowzingException(ERROR_ANCHOR_THAT_HAS_BEEN_SPECIFIED_DOES_NOT_EXISTS_ON_THE_PAGE_THAT_IS_CURRENTLY_ACTIVE);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>180</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l180s0'>		String url = script.getSrc();</pre></td>
    </tr>
    <tr>
      <td class='line'>181</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l181s0' title='Executions: 0' class='uncovered'>if (url.equals("")) throw new BrowzingException(ERROR_ANCHOR_HAS_NOT_URL);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>182</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l182s0'>		this.pageManager = this.pageManager.move(url);</pre></td>
    </tr>
    <tr>
      <td class='line'>183</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l183s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>184</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ遷移実行&lt;p/>
	 * 指定されたFORMに設定されているURLへページ遷移を実行します。&lt;br/>
	 * &lt;br/>
	 * 以下の状態の場合、例外を送出します。&lt;br/>
	 * ・遷移先FORMが設定されていなかった場合&lt;br/>
	 * ・遷移先FORMが現在アクティブになっているページから取得したものでない場合&lt;br/>
	 * ・遷移先FORMに遷移先URLが設定されていなかった場合(srcが設定されていなかった場合)&lt;br/>
	 * 
	 * @param form 遷移先FORM
	 * @return FORMオブジェクト
	 * @throws BrowzingException 遷移に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>199</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page move(Form form) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>0</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#ff0000' onclick='hidePath()'>Path coverage: 0/3</span>
        <span class='uncovered' onclick="showPath(this,'l200s0 l200s1')">A: 0</span>
        <span class='uncovered' onclick="showPath(this,'l200s0 l201s0 l201s1')">B: 0</span>
        <span class='uncovered' onclick="showPath(this,'l200s0 l201s0 l202s0 l203s0')">C: 0</span>
      </td>
    </tr>
    <tr>
      <td class='line'>200</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l200s0' title='Executions: 0' class='uncovered'>if (form == null)</span> <span id='l200s1' title='Executions: 0' class='uncovered'>throw new BrowzingException(ERROR_SPECIFIED_FORM_IS_NOT_SET);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>201</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l201s0' title='Executions: 0' class='uncovered'>if (!this.pageManager.getPage().equals(form.getPage()))throw new BrowzingException(ERROR_FORM_THAT_HAS_BEEN_SPECIFIED_DOES_NOT_EXISTS_ON_THE_PAGE_THAT_IS_CURRENTLY_ACTIVE);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>202</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l202s0'>		this.pageManager = this.pageManager.move(form);</pre></td>
    </tr>
    <tr>
      <td class='line'>203</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l203s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>204</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ戻り実行&lt;p/>
	 * 現在アクティブになっているページの遷移元ページをアクティブ状態にした上で、ページを取得します。
	 * 
	 * @return ページオブジェクト
	 * @throws BrowzingException 遷移に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>213</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page back() {</pre></td>
    </tr>
    <tr>
      <td class='line'>214</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l214s0'>		this.pageManager =	this.pageManager.back();</pre></td>
    </tr>
    <tr>
      <td class='line'>215</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l215s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>216</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * アンカー一覧を取得します。&lt;p/>
	 * このページに存在するすべてのアンカータグを取得します。&lt;br/>
	 * このページがHTMLでない場合、例外を送出します。
	 * 
	 * @return アンカー一覧 
	 * @throws BrowzingException このページがHTMLでない場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>226</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public List&lt;A> getAnchor() throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>0</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#ff0000' onclick='hidePath()'>Path coverage: 0/2</span>
        <span class='uncovered' onclick="showPath(this,'l227s0 l230s0 l232s0')">A: 0</span>
        <span class='uncovered' onclick="showPath(this,'l227s0 l230s0 l230s1 l232s0')">B: 0</span>
      </td>
    </tr>
    <tr>
      <td class='line'>227</td><td class='count'>19</td>
      <td><pre class='prettyprint covered' id='l227s0'>		List&lt;A> returnAnchorList = new ArrayList&lt;A>();</pre></td>
    </tr>
    <tr>
      <td class='line'>228</td><td class='count'>19</td>
      <td><pre class='prettyprint covered' id='l228s0'>		List&lt;jp.co.dk.document.html.element.A> anchorList = this.pageManager.getPage().getAnchor();</pre></td>
    </tr>
    <tr>
      <td class='line'>229</td><td class='count'>14724</td>
      <td><pre class='prettyprint covered' id='l229s0'>		for (jp.co.dk.document.html.element.A anchor : anchorList) {</pre></td>
    </tr>
    <tr>
      <td class='line'>230</td><td class='count'>14686</td>
      <td><pre class='prettyprint jmp'>			<span id='l230s0' title='Executions: 14686' class='covered'>if (anchor instanceof A)</span> <span id='l230s1' title='Executions: 14686' class='covered'>returnAnchorList.add((A)anchor);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>231</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		}</pre></td>
    </tr>
    <tr>
      <td class='line'>232</td><td class='count'>19</td>
      <td><pre class='prettyprint covered' id='l232s0'>		return returnAnchorList;</pre></td>
    </tr>
    <tr>
      <td class='line'>233</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * フォーム一覧を取得します。
	 * このページに存在するすべてのフォームタグを取得します。
	 * 
	 * @return フォーム一覧
	 * @throws BrowzingException このページがHTMLでない場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>242</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public List&lt;Form> getForm() throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>0</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#ff0000' onclick='hidePath()'>Path coverage: 0/2</span>
        <span class='uncovered' onclick="showPath(this,'l243s0 l246s0 l248s0')">A: 0</span>
        <span class='uncovered' onclick="showPath(this,'l243s0 l246s0 l246s1 l248s0')">B: 0</span>
      </td>
    </tr>
    <tr>
      <td class='line'>243</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l243s0'>		List&lt;Form> returnFormList = new ArrayList&lt;Form>();</pre></td>
    </tr>
    <tr>
      <td class='line'>244</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l244s0'>		List&lt;jp.co.dk.document.html.element.Form> formList = this.pageManager.getPage().getForm();</pre></td>
    </tr>
    <tr>
      <td class='line'>245</td><td class='count'>5</td>
      <td><pre class='prettyprint covered' id='l245s0'>		for (jp.co.dk.document.html.element.Form form : formList) {</pre></td>
    </tr>
    <tr>
      <td class='line'>246</td><td class='count'>3</td>
      <td><pre class='prettyprint jmp'>			<span id='l246s0' title='Executions: 3' class='covered'>if (form instanceof Form)</span> <span id='l246s1' title='Executions: 3' class='covered'>returnFormList.add((Form)form);</span></pre></td>
    </tr>
    <tr>
      <td class='line'>247</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		}</pre></td>
    </tr>
    <tr>
      <td class='line'>248</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l248s0'>		return returnFormList;</pre></td>
    </tr>
    <tr>
      <td class='line'>249</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページオブジェクト取得&lt;p/>
	 * 現在アクティブになっているページオブジェクトを返却します。
	 * 
	 * @return ページオブジェクト
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>257</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Page getPage() {</pre></td>
    </tr>
    <tr>
      <td class='line'>258</td><td class='count'>5</td>
      <td><pre class='prettyprint covered' id='l258s0'>		return this.pageManager.getPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>259</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * 次ページ遷移可能判定&lt;p/>
	 * 最大ネスト数を元に現在アクティブになっているページから次のページへ遷移できるかどうかを判定します。
	 * 
	 * @return 判定結果（true=遷移可能、false=最大ネスト数に達しているため遷移不可能）
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>267</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public boolean ableMoveNextPage() {</pre></td>
    </tr>
    <tr>
      <td class='line'>268</td><td class='count'>6</td>
      <td><pre class='prettyprint covered' id='l268s0'>		return this.pageManager.ableMoveNextPage();</pre></td>
    </tr>
    <tr>
      <td class='line'>269</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ保存&lt;p/>
	 * 現在アクティブになっているページを指定のディレクトリへ保存します。&lt;br/>
	 * &lt;br/>
	 * 以下の条件の場合、例外を発生する。&lt;br/>
	 * ・指定された保存先ディレクトリが存在しない場合&lt;br/>
	 * ・指定された保存先ディレクトリがディレクトリが存在しない場合&lt;br/>
	 * ・保存先のファイルがすでに存在する場合&lt;br/>
	 * 
	 * @param path ダウンロード先ディレクトリパス
	 * @return 保存したファイルのオブジェクト
	 * @throws ダウンロードに失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>284</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public File save(File path) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>285</td><td class='count'>3</td>
      <td><pre class='prettyprint covered' id='l285s0'>		return this.pageManager.getPage().save(path);</pre></td>
    </tr>
    <tr>
      <td class='line'>286</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ保存&lt;p/>
	 * 現在アクティブになっているページを指定のディレクトリへ指定のファイル名で保存します。&lt;br/>
	 * &lt;br/>
	 * 以下の条件の場合、例外を発生する。&lt;br/>
	 * ・指定された保存先ディレクトリが存在しない場合&lt;br/>
	 * ・指定された保存先ディレクトリがディレクトリが存在しない場合&lt;br/>
	 * ・保存先のファイルがすでに存在する場合&lt;br/>
	 * 
	 * @param path ダウンロード先ディレクトリパス
	 * @return 保存したファイルのオブジェクト
	 * @throws ダウンロードに失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>301</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public File save(File path, String fileName) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>302</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l302s0'>		return this.pageManager.getPage().save(path, fileName);</pre></td>
    </tr>
    <tr>
      <td class='line'>303</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * ページ保存&lt;p/>
	 * 現在アクティブになっているページを指定のディレクトリへ保存します。&lt;br/>
	 * 保存する際は指定の判定条件で判定し、trueの場合は保存を実行する。falseの場合は保存は行われない。&lt;br/>
	 * &lt;br/>
	 * 以下の条件の場合、例外を発生する。&lt;br/>
	 * ・指定された保存先ディレクトリが存在しない場合&lt;br/>
	 * ・指定された保存先ディレクトリがディレクトリが存在しない場合&lt;br/>
	 * ・保存先のファイルがすでに存在する場合&lt;br/>
	 * 
	 * @param path ダウンロード先ディレクトリパス
	 * @return 保存条件判定結果(true=保存を実行された、false=保存は実行されなかった)
	 * @throws ダウンロードに失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>319</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public boolean save(File path, DownloadJudge downloadJudge) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td></td><td class='count'>4</td>
      <td class='paths'>
        <span style='cursor:default; background-color:#00ff00' onclick='hidePath()'>Path coverage: 3/3</span>
        <span class='covered' onclick="showPath(this,'l320s0 l320s1 l321s0 l322s0')">A: 1</span>
        <span class='covered' onclick="showPath(this,'l320s0 l324s0')">B: 1</span>
        <span class='covered' onclick="showPath(this,'l320s0 l320s1 l324s0')">C: 2</span>
      </td>
    </tr>
    <tr>
      <td class='line'>320</td><td class='count'>4</td>
      <td><pre class='prettyprint jmp'>		<span id='l320s0' title='Executions: 4' class='covered'>if (downloadJudge != null</span> && <span id='l320s1' title='Executions: 3' class='covered'>downloadJudge.judge(this.pageManager.getPage())){</span></pre></td>
    </tr>
    <tr>
      <td class='line'>321</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l321s0'>			this.pageManager.getPage().save(path);</pre></td>
    </tr>
    <tr>
      <td class='line'>322</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l322s0'>			return true;</pre></td>
    </tr>
    <tr>
      <td class='line'>323</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		} else {</pre></td>
    </tr>
    <tr>
      <td class='line'>324</td><td class='count'>3</td>
      <td><pre class='prettyprint covered' id='l324s0'>			return false;</pre></td>
    </tr>
    <tr>
      <td class='line'>325</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		}</pre></td>
    </tr>
    <tr>
      <td class='line'>326</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * 指定のURLからページオブジェクトを作成する。
	 * 
	 * @param url URL文字列
	 * @return ページオブジェクト
	 * @throws BrowzingException ページクラスの生成に失敗した場合
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>335</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	protected Page ceatePage(String url) throws BrowzingException {</pre></td>
    </tr>
    <tr>
      <td class='line'>336</td><td class='count'>31</td>
      <td><pre class='prettyprint covered' id='l336s0'>		return new Page(url);</pre></td>
    </tr>
    <tr>
      <td class='line'>337</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * 指定のページオブジェクト、ページリダイレクトハンドラからページマネージャを作成する。
	 * 
	 * @param page ページオブジェクト
	 * @param handler ページリダイレクトハンドラ
	 * @return ページマネージャオブジェクト
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>346</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	protected PageManager createPageManager(Page page, PageRedirectHandler handler) {</pre></td>
    </tr>
    <tr>
      <td class='line'>347</td><td class='count'>24</td>
      <td><pre class='prettyprint covered' id='l347s0'>		return new PageManager(page, handler);</pre></td>
    </tr>
    <tr>
      <td class='line'>348</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr><td class='line'></td><td colspan='2'>&nbsp;</td></tr>
    <tr>
      <td class='line'></td><td>&nbsp;</td>
      <td class='comment' onclick='showHideLines(this)'><div>	/**
	 * 指定のページオブジェクト、ページリダイレクトハンドラ、最大遷移数からページマネージャを作成する。
	 * 
	 * @param page ページオブジェクト
	 * @param handler ページリダイレクトハンドラ
	 * @param maxNestLevel 最大遷移数
	 * @return ページマネージャオブジェクト
	 */</div><span>	/*...*/</span></td>
    </tr>
    <tr>
      <td class='line'>358</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	protected PageManager createPageManager(Page page, PageRedirectHandler handler, int maxNestLevel) {</pre></td>
    </tr>
    <tr>
      <td class='line'>359</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l359s0'>		return new PageManager(page, handler, maxNestLevel);</pre></td>
    </tr>
    <tr>
      <td class='line'>360</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>361</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>}</pre></td>
    </tr>
  </table>
</body>
</html>
